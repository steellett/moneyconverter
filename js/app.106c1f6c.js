(function(e){function t(t){for(var n,a,u=t[0],i=t[1],s=t[2],p=0,f=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var i=r[u];0!==c[i]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},c={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/moneyconverter/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("convert")],1)},o=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-page"},[r("h2",{staticClass:"title"},[e._v("Конвертер валюты")]),r("div",{staticClass:"from"},[r("div",{staticClass:"input-field from-currency"},[r("p",{attrs:{for:"from-currency"}},[e._v(" Выберите валюту, которую хотите сконвертировать ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.fromCurrency,expression:"fromCurrency"}],staticClass:"browser-default",attrs:{name:"from-currency",id:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fromCurrency=t.target.multiple?r:r[0]}}},e._l(e.sortedCurrencies,(function(t,n){return r("option",{key:n,domProps:{value:t[0]}},[e._v(e._s(t[0]+"-"+t[1]))])})),0)]),r("div",{staticClass:"input-field from-currency-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.amountFromCurrency,expression:"amountFromCurrency"}],staticClass:"amount",attrs:{type:"text",name:"amount",placeholder:"Количество валюты"},domProps:{value:e.amountFromCurrency},on:{input:function(t){t.target.composing||(e.amountFromCurrency=t.target.value)}}})])]),r("div",{staticClass:"to"},[r("div",{staticClass:"input-field to-currency"},[r("p",[e._v("конвертировать в:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.toCurrency,expression:"toCurrency"}],staticClass:"browser-default",attrs:{name:"currencies",id:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.toCurrency=t.target.multiple?r:r[0]}}},e._l(e.sortedCurrencies,(function(t,n){return r("option",{key:n,domProps:{value:t[0]}},[e._v(e._s(t[0]+"-"+t[1]))])})),0)])]),r("div",{staticClass:"result"},[e.rate?r("p",[e._v("Вы получите: "+e._s(e.convertedCurrency)+e._s(e.toCurrency))]):e._e(),e.rate?r("p",[e._v("Курс: 1"+e._s(e.fromCurrency)+" = "+e._s(e.rate)+e._s(e.toCurrency))]):e._e(),r("button",{staticClass:"waves-effect waves-light btn",on:{click:e.convertCurrencies}},[e._v(" Сконвертировать ")])])])},u=[],i=(r("99af"),r("13d5"),r("b680"),r("4fad"),r("96cf"),r("1da1")),s=r("b5ae"),l=r("bc3a"),p=r.n(l);r("6885");var f={data:function(){return{currencies:{},fromCurrency:"",toCurrency:"",amountFromCurrency:"",convertedCurrency:"",apiKey:"?api_key=4e99409143063afac3aa5b5d7fe185ba5ac4a844",proxy:"https://cors-anywhere.herokuapp.com/",rate:null,currentCurrency:""}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getListCurrencies();case 2:e.checkIP();case 3:case"end":return t.stop()}}),t)})))()},computed:{sortedCurrencies:function(){var e=this,t=Object.entries(this.currencies);return t.sort((function(e,t){return e[0]-t[0]})),t.reduce((function(t,r){return r[0]==e.currentCurrency?t.unshift(r):t.push(r),t}),[])}},methods:{getListCurrencies:function(){var e=this;p.a.get("".concat(this.proxy,"https://api.getgeoapi.com/api/v2/currency/list").concat(this.apiKey)).then((function(t){e.currencies=t.data.currencies})).catch((function(e){console.log(e)}))},checkCorrectSubmit:function(){this.$v.$touch(),this.$v.$invalid},convertCurrencies:function(){var e=this;this.checkCorrectSubmit()||p.a.get("".concat(this.proxy,"https://api.getgeoapi.com/api/v2/currency/convert").concat(this.apiKey,"&from=").concat(this.fromCurrency,"&to=").concat(this.toCurrency,"&amount=").concat(this.amountFromCurrency)).then((function(t){e.convertedCurrency=(t.data.amount*t.data.rates[e.toCurrency].rate).toFixed(2),e.rate=t.data.rates[e.toCurrency].rate})).catch((function(e){console.log(e)}))},checkIP:function(){var e=this;p.a.get("".concat(this.proxy,"https://api.getgeoapi.com/api/v2/ip/check").concat(this.apiKey)).then((function(t){e.currentCurrency=t.data.currency.code})).catch((function(e){console.log(e)}))}},validations:{amountFromCurrency:{required:s["required"],numeric:s["numeric"]}}},v=f,d=(r("c05c"),r("2877")),m=Object(d["a"])(v,a,u,!1,null,null,null),y=m.exports,h={name:"App",components:{Convert:y}},C=h,g=(r("5c0b"),Object(d["a"])(C,c,o,!1,null,null,null)),b=g.exports,_=r("2f62");n["a"].use(_["a"]);var w=new _["a"].Store({state:{},mutations:{},actions:{},modules:{}}),x=r("1dce"),O=r.n(x);n["a"].use(O.a),n["a"].config.productionTip=!1,new n["a"]({axios:p.a,store:w,render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),c=r.n(n);c.a},"9c0c":function(e,t,r){},a5ae:function(e,t,r){},c05c:function(e,t,r){"use strict";var n=r("a5ae"),c=r.n(n);c.a}});
//# sourceMappingURL=app.106c1f6c.js.map